[info] Starting analytics metrics scheduler
[info] Starting automated metrics collection
[info] Running DashboardSSDWeb.Endpoint with Bandit 1.8.0 at 127.0.0.1:4000 (http)
[info] Access DashboardSSDWeb.Endpoint at http://localhost:4000
[debug] QUERY OK source="health_check_settings" db=2.4ms decode=0.6ms queue=13.5ms idle=0.0ms
SELECT h0."id", h0."project_id", h0."provider", h0."endpoint_url", h0."aws_region", h0."aws_target_group_arn", h0."enabled", h0."inserted_at", h0."updated_at" FROM "health_check_settings" AS h0 WHERE (h0."enabled" = TRUE) []
[90mâ†³ DashboardSSD.Analytics.Collector.collect_all_metrics/0, at: lib/dashboard_ssd/analytics/collector.ex:29[0m
[debug] QUERY OK source="health_check_settings" db=2.4ms decode=0.6ms queue=13.4ms idle=0.0ms
SELECT h0."id", h0."project_id", h0."provider", h0."endpoint_url", h0."aws_region", h0."aws_target_group_arn", h0."enabled", h0."inserted_at", h0."updated_at" FROM "health_check_settings" AS h0 WHERE (h0."enabled" = TRUE) []
[90mâ†³ DashboardSSD.HealthChecks.Scheduler.run_checks/0, at: lib/dashboard_ssd/health_checks/scheduler.ex:48[0m
[debug] Collecting HTTP metrics for project 4: https://beta.slickage.io/
[watch] build finished, watching for changes...

Rebuilding...

Done in 153ms.
[debug] QUERY OK source="metric_snapshots" db=2.0ms queue=0.6ms idle=718.1ms
INSERT INTO "metric_snapshots" ("type","value","project_id","inserted_at") VALUES ($1,$2,$3,$4) RETURNING "id" ["response_time", 698.0, 4, ~U[2025-09-23 18:43:34Z]]
[90mâ†³ DashboardSSD.Analytics.Collector.collect_http_metrics/2, at: lib/dashboard_ssd/analytics/collector.ex:74[0m
[debug] QUERY OK source="metric_snapshots" db=1.1ms queue=0.5ms idle=723.4ms
INSERT INTO "metric_snapshots" ("type","value","project_id","inserted_at") VALUES ($1,$2,$3,$4) RETURNING "id" ["uptime", 100.0, 4, ~U[2025-09-23 18:43:34Z]]
[90mâ†³ DashboardSSD.Analytics.Collector.collect_http_metrics/2, at: lib/dashboard_ssd/analytics/collector.ex:82[0m
[debug] Collected metrics for project 4: response_time=698.0ms, uptime=100%
[debug] QUERY OK source="metric_snapshots" db=1.6ms queue=1.0ms idle=730.6ms
SELECT m0."id", m0."type", m0."value", m0."project_id", m0."inserted_at" FROM "metric_snapshots" AS m0 WHERE (m0."project_id" = $1) AND (m0."type" = 'uptime') AND (m0."inserted_at" >= $2) AND (m0."inserted_at" <= $3) ORDER BY m0."inserted_at" [4, ~U[2025-09-22 18:43:34Z], ~U[2025-09-23 18:43:34Z]]
[90mâ†³ DashboardSSD.Analytics.Collector.collect_mttr/1, at: lib/dashboard_ssd/analytics/collector.ex:159[0m
[debug] No failures found for MTTR calculation in project 4
[info] Completed automated metrics collection
[debug] QUERY OK source="health_checks" db=1.8ms queue=0.7ms idle=737.9ms
SELECT h0."id", h0."project_id", h0."status", h0."inserted_at", h0."updated_at" FROM "health_checks" AS h0 WHERE (h0."project_id" = ANY($1) AND NOT (h0."status" IS NULL)) ORDER BY h0."inserted_at" DESC [[4]]
[90mâ†³ DashboardSSD.Deployments.latest_health_status_by_project_ids/1, at: lib/dashboard_ssd/deployments.ex:90[0m
[debug] QUERY OK source="health_check_settings" db=1.8ms idle=773.9ms
SELECT h0."id", h0."project_id", h0."provider", h0."endpoint_url", h0."aws_region", h0."aws_target_group_arn", h0."enabled", h0."inserted_at", h0."updated_at" FROM "health_check_settings" AS h0 WHERE (h0."enabled" = TRUE) []
[90mâ†³ DashboardSSD.HealthChecks.Scheduler.run_checks/0, at: lib/dashboard_ssd/health_checks/scheduler.ex:48[0m
[debug] QUERY OK source="health_checks" db=2.6ms idle=793.6ms
SELECT h0."id", h0."project_id", h0."status", h0."inserted_at", h0."updated_at" FROM "health_checks" AS h0 WHERE (h0."project_id" = ANY($1) AND NOT (h0."status" IS NULL)) ORDER BY h0."inserted_at" DESC [[4]]
[90mâ†³ DashboardSSD.Deployments.latest_health_status_by_project_ids/1, at: lib/dashboard_ssd/deployments.ex:90[0m
[debug] QUERY OK source="health_checks" db=1.6ms queue=0.3ms idle=797.3ms
INSERT INTO "health_checks" ("status","project_id","inserted_at","updated_at") VALUES ($1,$2,$3,$4) RETURNING "id" ["down", 4, ~U[2025-09-23 18:44:34Z], ~U[2025-09-23 18:44:34Z]]
[90mâ†³ Enum."-map/2-lists^map/1-1-"/2, at: lib/enum.ex:1703[0m
[notice] SIGTERM received - shutting down

[info] DRAINING 1 of 1 total connection(s) for socket Phoenix.LiveReloader.Socket every 2000ms - round 1 of 1
